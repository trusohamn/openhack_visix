{"version":3,"sources":["components/Legend2d.js","components/MapChart.js","components/Details.js","index.js"],"names":["SVG","style","fill","width","className","viewBox","height","xmlns","xmlnsXlink","id","refX","refY","markerWidth","markerHeight","orient","d","transform","x","y","points","stroke","stroke-width","marker-start","marker-end","font-size","text-anchor","font-weight","MapChart","setTooltipContent","dataset","setCountry","country","useState","data","setData","useEffect","csv","process","then","data-tip","projectionConfig","rotate","scale","disablePanning","strokeWidth","length","geography","geographies","map","geo","corruption","investment","find","s","ISO3","properties","ISO_A3","key","rsmKey","rgbHex","onClick","console","log","onMouseEnter","NAME","onMouseLeave","default","outline","hover","pressed","coordinates","Legend2d","upperFirst","string","charAt","toUpperCase","substring","rootElement","document","getElementById","ReactDOM","render","content","setContent","setKey","Tabs","activeKey","onSelect","k","sector","Tab","eventKey","title","Details"],"mappings":"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","file":"static/js/main.18a4323e.chunk.js","sourcesContent":["import React from \"react\";\n\nconst SVG = ({\n  style = {},\n  fill = \"#000\",\n  width = \"100%\",\n  className = \"\",\n  viewBox = \"0 0 10 6\"\n}) => (\n  // <div style={{ position: \"absolute\", top: \"60%\", left: \"0\" }}>\n  <svg\n    width={width}\n    style={style}\n    height={width}\n    viewBox={viewBox}\n    xmlns=\"http://www.w3.org/2000/svg\"\n    className={`svg-icon ${className || \"\"}`}\n    xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n  >\n    <defs>\n      <marker\n        id=\"arrow\"\n        fill=\"white\"\n        viewBox=\"0 0 10 10\"\n        refX=\"5\"\n        refY=\"5\"\n        markerWidth=\"6\"\n        markerHeight=\"6\"\n        orient=\"auto-start-reverse\"\n      >\n        <path d=\"M 0 0 L 10 5 L 0 10 z\" />\n      </marker>\n    </defs>\n    <g id=\"group\" transform=\" rotate(-45 5 0)\">\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(0,0,255)\" x=\"0\" y=\"0\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(0,0,204)\" x=\"0\" y=\"1\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(0,0,153)\" x=\"0\" y=\"2\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(0,0,102)\" x=\"0\" y=\"3\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(0,0,51)\" x=\"0\" y=\"4\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(51,0,255)\" x=\"1\" y=\"0\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(51,0,204)\" x=\"1\" y=\"1\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(51,0,153)\" x=\"1\" y=\"2\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(51,0,102)\" x=\"1\" y=\"3\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(51,0,51)\" x=\"1\" y=\"4\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(102,0,255)\" x=\"2\" y=\"0\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(102,0,204)\" x=\"2\" y=\"1\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(102,0,153)\" x=\"2\" y=\"2\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(102,0,102)\" x=\"2\" y=\"3\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(102,0,51)\" x=\"2\" y=\"4\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(153,0,255)\" x=\"3\" y=\"0\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(153,0,204)\" x=\"3\" y=\"1\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(153,0,153)\" x=\"3\" y=\"2\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(153,0,102)\" x=\"3\" y=\"3\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(153,0,51)\" x=\"3\" y=\"4\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(204,0,255)\" x=\"4\" y=\"0\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(204,0,204)\" x=\"4\" y=\"1\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(204,0,153)\" x=\"4\" y=\"2\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(204,0,102)\" x=\"4\" y=\"3\" />\n      <rect width=\"0.95\" height=\"0.95\" fill=\"rgb(204,0,51)\" x=\"4\" y=\"4\" />\n      <polyline\n        points=\"-0.2,-0.4, -0.2,5.1, 5.3,5.1\"\n        fill=\"none\"\n        stroke=\"white\"\n        stroke-width=\"0.1\"\n        marker-start=\"url(#arrow)\"\n        marker-end=\"url(#arrow)\"\n      />\n      <text\n        x=\"2.5\"\n        y=\"6\"\n        font-size=\"0.06em\"\n        text-anchor=\"middle\"\n        fill=\"white\"\n        font-weight=\"bold\"\n      >\n        Corruption\n      </text>\n      <text\n        transform=\" rotate(90 0 0)\"\n        fill=\"white\"\n        x=\"2.5\"\n        y=\"1\"\n        font-size=\"0.06em\"\n        text-anchor=\"middle\"\n        font-weight=\"bold\"\n      >\n        Investment\n      </text>\n    </g>\n  </svg>\n);\n\nexport default SVG;\n","import React, { useEffect, useState } from \"react\";\nimport { csv } from \"d3-fetch\";\n// import { scaleLinear } from \"d3-scale\";\nimport {\n  ZoomableGroup,\n  ComposableMap,\n  Geographies,\n  Geography,\n  Sphere,\n  Graticule,\n  Marker\n} from \"react-simple-maps\";\nimport rgbHex from \"rgb-hex\";\nimport Legend2d from \"./Legend2d\";\n\nconst geoUrl =\n  \"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json\";\n\n/*\nconst colorScale = scaleLinear()\n  .domain([0.29, 0.68])\n  .range([\"#000000\", \"#ffffff\"]);\n*/\nconst colorScale2D = (corruption, investment) => {\n  const hex = rgbHex(100 + 155 * corruption, 0, 100 + 155 * investment);\n  return \"#\" + hex;\n};\n\nconst MapChart = ({ setTooltipContent, dataset, country, setCountry }) => {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    csv(`${process.env.PUBLIC_URL}/${dataset}`).then(data => {\n      setData(data);\n    });\n  }, [dataset]);\n\n  return (\n    <ComposableMap\n      data-tip=\"\"\n      height={450}\n      projectionConfig={{\n        rotate: [0, 0, 0],\n        scale: 140\n      }}\n    >\n      <ZoomableGroup disablePanning={true}>\n        <Sphere stroke=\"#E4E5E6\" strokeWidth={0.5} />\n        <Graticule stroke=\"#E4E5E6\" strokeWidth={0.5} />\n        {data.length > 0 && (\n          <Geographies geography={geoUrl}>\n            {({ geographies }) =>\n              geographies.map(geo => {\n                const d = data.find(s => s.ISO3 === geo.properties.ISO_A3);\n                return (\n                  <Geography\n                    key={geo.rsmKey}\n                    geography={geo}\n                    fill={\n                      d\n                        ? colorScale2D(d[\"corruption\"], d[\"investment\"])\n                        : \"#F5F4F6\"\n                    }\n                    onClick={() => {\n                      setCountry(geo.properties.ISO_A3);\n                      console.log(geo.properties.ISO_A3);\n                    }}\n                    onMouseEnter={() => {\n                      setTooltipContent(geo.properties.NAME);\n                    }}\n                    onMouseLeave={() => {\n                      setTooltipContent(\"\");\n                    }}\n                    style={{\n                      default: {\n                        outline: \"none\"\n                      },\n                      hover: {\n                        fill: \"#F53\",\n                        outline: \"none\"\n                      },\n                      pressed: {\n                        fill: \"#E42\",\n                        outline: \"none\"\n                      }\n                    }}\n                  />\n                );\n              })\n            }\n          </Geographies>\n        )}\n        <Marker coordinates={[-150.006, -10.7128]}>\n          <Legend2d width={120} />\n        </Marker>\n      </ZoomableGroup>\n    </ComposableMap>\n  );\n};\n\nexport default MapChart;\n","import React, { useEffect } from \"react\";\n\nexport default ({ country }) => {\n  useEffect(() => {\n    console.log(country);\n  }, [country]);\n\n  return (\n    <div className=\"Details\">\n      <h3>{country}</h3>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport ReactTooltip from \"react-tooltip\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./styles.css\";\nimport MapChart from \"./components/MapChart\";\nimport Details from \"./components/Details\";\n\nimport { Tabs, Tab } from \"react-bootstrap\";\nconst upperFirst = string =>\n  string.charAt(0).toUpperCase() + string.substring(1);\nfunction App() {\n  const [content, setContent] = useState(\"\");\n  const [key, setKey] = useState(\"public\");\n  const [country, setCountry] = useState(\"\");\n\n  const sectors = [\"public\", \"education\", \"health\"];\n  return (\n    <div>\n      <div className=\"page\">\n        <Tabs\n          id=\"controlled-tab-example\"\n          activeKey={key}\n          onSelect={k => setKey(k)}\n        >\n          {sectors.map(sector => (\n            <Tab\n              key={sector}\n              eventKey={sector}\n              title={upperFirst(sector)}\n            ></Tab>\n          ))}\n        </Tabs>\n        <MapChart\n          setTooltipContent={setContent}\n          dataset={key + \".csv\"}\n          country={country}\n          setCountry={setCountry}\n        />\n        <ReactTooltip>{content}</ReactTooltip>\n        <Details country={country} />\n      </div>\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}