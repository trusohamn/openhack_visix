(this.webpackJsonpvisix=this.webpackJsonpvisix||[]).push([[0],{181:function(e,t,n){e.exports=n(386)},200:function(e,t,n){},386:function(e,t,n){"use strict";n.r(t);var a=n(46),r=n(1),l=n.n(r),i=n(32),o=n.n(i),c=n(144),u=n.n(c),s=(n(199),n(200),n(160)),m=n(159),d=n(23),p=function(e){for(var t,n,a,r=e.style,i=void 0===r?{}:r,o=(e.fill,e.width),c=void 0===o?"100%":o,u=e.className,s=void 0===u?"":u,m=e.viewBox,d=void 0===m?"0 0 10 6":m,p=e.fillFunction,f=[],E=0;E<5;E++)for(var v=0;v<5;v++){var y=l.a.createElement("rect",{width:.95,height:.95,fill:p?p(E/4,1-v/4):(t=100+E/4*155,n=0,a=255-v/4*155,"rgb(".concat(t,",").concat(n,",").concat(a,")")),x:1*E,y:1*v,key:"".concat(v,"x").concat(E)});f.push(y)}return l.a.createElement("svg",{width:c,style:i,height:c,viewBox:d,xmlns:"http://www.w3.org/2000/svg",className:"svg-icon ".concat(s||""),xmlnsXlink:"http://www.w3.org/1999/xlink"},l.a.createElement("defs",null,l.a.createElement("marker",{id:"arrow",fill:"white",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse"},l.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),l.a.createElement("g",{id:"group",transform:" rotate(-45 5 0)"},l.a.createElement("g",null,f),l.a.createElement("polyline",{points:"-0.2,-0.4, -0.2,5.1, 5.3,5.1",fill:"none",stroke:"white",strokeWidth:"0.1",markerStart:"url(#arrow)",markerEnd:"url(#arrow)"}),l.a.createElement("text",{x:"2.5",y:"6",fontSize:"0.06em",textAnchor:"middle",fill:"white",fontWeight:"bold"},"Corruption"),l.a.createElement("text",{transform:" rotate(90 0 0)",fill:"white",x:"2.5",y:"1",fontSize:"0.06em",textAnchor:"middle",fontWeight:"bold"},"Relative Aid")))},f=n(10),E=function(e){var t=e.name,n=e.corruption,a=e.investment,r=e.corruption_color,i=e.investment_color,o=[{name:"Group A",value:n},{name:"inverse",value:1-n}],c=[{name:"Group A",value:a},{name:"inverse",value:1-a}],u=[r,"rgb(100,100,100)"],s=[i,"rgb(100,100,100)"];return l.a.createElement("div",{className:"dataTooltip",style:{display:"flex",justifyContent:"center",flexDirection:"column"}},l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},t),l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement(f.d,{width:93,height:50},l.a.createElement(f.c,{data:o,cx:16,cy:16,innerRadius:15,outerRadius:20,paddingAngle:0,isAnimationActive:!1},o.map((function(e,t){return l.a.createElement(f.b,{fill:u[t%u.length],stroke:"black"})}))),l.a.createElement("text",{x:21,y:17,dy:8,textAnchor:"middle",fill:"White"},Number(n).toFixed(2)),l.a.createElement(f.c,{data:c,cx:66,cy:16,innerRadius:15,outerRadius:20,paddingAngle:0,isAnimationActive:!1},c.map((function(e,t){return l.a.createElement(f.b,{fill:s[t%s.length],stroke:"black"})}))),l.a.createElement("text",{x:71,y:17,dy:8,textAnchor:"middle",fill:"White"},Number(a).toFixed(2)))))},v=function(e,t){var n=function(e,t){return{G:255-255*Number(e),B:255-155*(Number(e)+Number(t))/2,R:255-255*Number(t)}}(e,t);return"rgb(".concat(n.R,", ").concat(n.G," , ").concat(n.B,")")},y=function(e){var t=e.setTooltipContent,n=e.dataset,a=(e.country,e.setCountry),i=e.data,o=e.setData;Object(r.useEffect)((function(){Object(m.a)("".concat("/openhack_visix","/data/").concat(n)).then((function(e){var t=Math.max.apply(Math,Object(s.a)(e.map((function(e){return e["Funding USDm"]}))));return e.forEach((function(e){e.investment=e["Funding USDm"]/t})),o(e)}))}),[n]);return l.a.createElement("div",{className:"Map",onClick:function(e){"rsm-geography "!==e.target.className.baseVal&&a(null)}},l.a.createElement(d.ComposableMap,{"data-tip":"",height:400,projectionConfig:{rotate:[0,0,0],scale:140}},l.a.createElement(d.ZoomableGroup,{disablePanning:!0},l.a.createElement(d.Sphere,{stroke:"#E4E5E6",strokeWidth:.3}),l.a.createElement(d.Graticule,{stroke:"#E4E5E6",strokeWidth:.3}),i.length>0&&l.a.createElement(d.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json"},(function(e){return e.geographies.map((function(e){var n=i.find((function(t){return t.CountryCode===e.properties.ISO_A3}));return l.a.createElement(d.Geography,{key:e.rsmKey,geography:e,fill:n?v(n["Corruption risks"],n.investment):"#F5F4F6",stroke:"#EAEAEC",onClick:function(){a(e.properties.ISO_A3)},onMouseEnter:function(){t(l.a.createElement(E,{name:e.properties.NAME,corruption:n?Number(n["Corruption risks"]):"none",investment:n?Number(n.investment):"none",corruption_color:"rgb(255, 0 , 177.5)",investment_color:"rgb(0, 255 , 177.5)"}))},onMouseLeave:function(){t("")},style:{default:{outline:"none"},hover:{fill:"#F53",outline:"none",cursor:"pointer"},pressed:{fill:"#E42",outline:"none"}}})}))})),l.a.createElement(d.Marker,{coordinates:[-150.006,-10.7128]},l.a.createElement(p,{width:120,fillFunction:v})))))},h=["CountryCode","Country Name","investment"],b=function(e){var t=e.countryCode,n=e.data,a=e.setCountry,r=n.find((function(e){return e.CountryCode===t}));return t&&r&&r["Country Name"]&&l.a.createElement("div",{className:"content Details"},l.a.createElement("button",{class:"close",onClick:function(){a(null)}}),l.a.createElement("h3",null,r["Country Name"]),l.a.createElement("table",null,Object.keys(r).filter((function(e){return!h.includes(e)})).map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e),l.a.createElement("td",null,Number(r[e]).toFixed(2)))}))))||null},g=function(e){var t=e.active,n=e.payload;e.label;if(t){console.log(n[0].payload);var a=n[0].payload;return l.a.createElement("div",{className:"custom-tooltip"},l.a.createElement("h5",{className:"label"},a["Country Name"]),l.a.createElement("p",{className:"intro"},"Corruption: ",Number(a["Corruption risks"]).toFixed(2)),l.a.createElement("p",{className:"desc"},"Aid: ",Number(a["Funding USDm"]).toFixed(2)))}return null},C=function(e){var t=e.data,n=e.displayDetails;return l.a.createElement("div",{className:"ScatterPlot"},l.a.createElement(f.f,{width:400,height:200,margin:{top:20,right:20,bottom:20,left:20}},l.a.createElement(f.a,null),l.a.createElement(f.h,{type:"number",dataKey:"investment",name:"Relative aid",label:"Relative aid",tick:!1}),l.a.createElement(f.i,{type:"number",dataKey:"Corruption risks",name:"Corruption",label:{value:"Corruption",angle:-90},tick:!1}),l.a.createElement(f.j,{type:"string",dataKey:"Country Name",name:"Country Name",unit:""}),l.a.createElement(f.g,{content:l.a.createElement(g,null)}),l.a.createElement(f.e,{name:"Corruption",data:t,fill:"#8884d8",onClick:function(e){n(e.CountryCode)}},t.map((function(e,t){var n=v(Number(e["Corruption risks"]),Number(e.investment));return l.a.createElement(f.b,{key:"cell-".concat(t),fill:n})})))))},k=function(e){var t=e.data,n=e.label,a=e.displayDetails,r="Country Name";return l.a.createElement("div",{className:"SingleStat"},l.a.createElement("h5",null,n),l.a.createElement("ul",null,t.map((function(e){return l.a.createElement("li",{onClick:function(){return a(t.find((function(t){return t[r]===e[r]})).CountryCode)}},e[r])}))))},x=function(e){var t=e.data,n=e.displayDetails,a=t.sort((function(e,t){return e["Corruption risks"]<=t["Corruption risks"]?1:-1})).slice(0,5),r=t.sort((function(e,t){return e.investment<=t.investment?1:-1})).slice(0,5),i=t.sort((function(e,t){return e.investment>=t.investment?1:-1})).slice(0,5);return l.a.createElement("div",{className:"content Stats"},l.a.createElement(k,{displayDetails:n,data:a,label:"Highest corruption"}),l.a.createElement(k,{displayDetails:n,data:r,label:"Most aid received"}),l.a.createElement(k,{displayDetails:n,data:i,label:"Least aid received"}),l.a.createElement(C,{data:t,displayDetails:n}))},N=n(390),w=n(389),A=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var j=document.getElementById("root");o.a.render(l.a.createElement((function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)("public"),c=Object(a.a)(o,2),s=c[0],m=c[1],d=Object(r.useState)(""),p=Object(a.a)(d,2),f=p[0],E=p[1],v=Object(r.useState)([]),h=Object(a.a)(v,2),g=h[0],C=h[1];return l.a.createElement("div",null,l.a.createElement("div",{className:"page"},l.a.createElement("div",{className:"Tabs"},l.a.createElement(N.a,{id:"controlled-tab-example",activeKey:s,onSelect:function(e){return m(e)}},["public","education","health","business","energy"].map((function(e){return l.a.createElement(w.a,{key:e,eventKey:e,title:A(e)})})))),l.a.createElement(y,{setTooltipContent:i,dataset:s+".csv",country:f,setCountry:E,data:g,setData:C}),l.a.createElement(x,{country:f,data:g,displayDetails:function(e){E(e)}}),l.a.createElement(u.a,null,n),l.a.createElement(b,{countryCode:f,data:g,setCountry:E})))}),null),j)}},[[181,1,2]]]);
//# sourceMappingURL=main.2e29f78a.chunk.js.map