{"version":3,"sources":["components/Legend2d.js","components/Tooltip.js","colortools.js","components/MapChart.js","components/Details.js","components/ScatterPlot.js","components/Stats.js","index.js"],"names":["SVG","r","g","b","style","fill","width","className","viewBox","fillFunction","rects","x","y","rect","height","key","push","xmlns","xmlnsXlink","id","refX","refY","markerWidth","markerHeight","orient","d","transform","points","stroke","strokeWidth","markerStart","markerEnd","fontSize","textAnchor","fontWeight","DataTooltip","name","corruption","investment","corruption_color","investment_color","data_corruption","value","data_investment","COLORS1","COLORS2","display","justifyContent","flexDirection","data","cx","cy","innerRadius","outerRadius","paddingAngle","isAnimationActive","map","entry","index","length","dy","Number","toFixed","colorScale2D","color","G","B","R","MapChart","setTooltipContent","dataset","setCountry","country","setData","useEffect","csv","process","then","maxFunding","Math","max","forEach","onClick","e","target","baseVal","data-tip","projectionConfig","rotate","scale","disablePanning","geography","geographies","geo","find","s","properties","ISO_A3","rsmKey","onMouseEnter","Tooltip","NAME","onMouseLeave","default","outline","hover","cursor","pressed","coordinates","Legend2d","removeKeys","countryCode","countryData","CountryCode","class","Object","keys","filter","includes","CustomTooltip","active","payload","label","console","log","displayDetails","margin","top","right","bottom","left","type","dataKey","tick","angle","unit","content","fillColor","SingleStat","mostCorrupted","sort","c1","c2","slice","mostInvested","lessInvested","ScatterPlot","upperFirst","string","charAt","toUpperCase","substring","rootElement","document","getElementById","ReactDOM","render","useState","setContent","setKey","Tabs","activeKey","onSelect","k","sector","Tab","eventKey","title","Stats","Details"],"mappings":"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","file":"static/js/main.2e29f78a.chunk.js","sourcesContent":["import React from \"react\";\n\nconst SVG = ({\n  style = {},\n  fill = \"#000\",\n  width = \"100%\",\n  className = \"\",\n  viewBox = \"0 0 10 6\",\n  fillFunction\n}) => {\n  let rects = [];\n\n  const scale = 1;\n\n  const rgb = (r, g, b) => {\n    return `rgb(${r},${g},${b})`;\n  };\n\n  for (let x = 0; x < 5; x++) {\n    for (let y = 0; y < 5; y++) {\n      let rect = (\n        <rect\n          width={0.95 * scale}\n          height={0.95 * scale}\n          fill={\n            fillFunction\n              ? fillFunction(x / 4, 1 - y / 4)\n              : rgb(100 + (x / 4) * 155, 0, 255 - (y / 4) * 155)\n          }\n          x={x * scale}\n          y={y * scale}\n          key={`${y}x${x}`}\n        />\n      );\n      rects.push(rect);\n    }\n  }\n\n  return (\n    <svg\n      width={width}\n      style={style}\n      height={width}\n      viewBox={viewBox}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className={`svg-icon ${className || \"\"}`}\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <defs>\n        <marker\n          id=\"arrow\"\n          fill=\"white\"\n          viewBox=\"0 0 10 10\"\n          refX=\"5\"\n          refY=\"5\"\n          markerWidth=\"6\"\n          markerHeight=\"6\"\n          orient=\"auto-start-reverse\"\n        >\n          <path d=\"M 0 0 L 10 5 L 0 10 z\" />\n        </marker>\n      </defs>\n      <g id=\"group\" transform=\" rotate(-45 5 0)\">\n        <g>{rects}</g>\n        <polyline\n          points=\"-0.2,-0.4, -0.2,5.1, 5.3,5.1\"\n          fill=\"none\"\n          stroke=\"white\"\n          strokeWidth=\"0.1\"\n          markerStart=\"url(#arrow)\"\n          markerEnd=\"url(#arrow)\"\n        />\n        <text\n          x=\"2.5\"\n          y=\"6\"\n          fontSize=\"0.06em\"\n          textAnchor=\"middle\"\n          fill=\"white\"\n          fontWeight=\"bold\"\n        >\n          Corruption\n        </text>\n        <text\n          transform=\" rotate(90 0 0)\"\n          fill=\"white\"\n          x=\"2.5\"\n          y=\"1\"\n          fontSize=\"0.06em\"\n          textAnchor=\"middle\"\n          fontWeight=\"bold\"\n        >\n          Relative Aid\n        </text>\n      </g>\n    </svg>\n  );\n};\n\nexport default SVG;\n","import React, { ReactDOM } from \"react\";\nimport { PieChart, Pie, Sector, Cell } from \"recharts\";\n\nconst DataTooltip = ({\n  name,\n  corruption,\n  investment,\n  corruption_color,\n  investment_color\n}) => {\n  const data_corruption = [\n    { name: \"Group A\", value: corruption },\n    { name: \"inverse\", value: 1 - corruption }\n  ];\n\n  const data_investment = [\n    { name: \"Group A\", value: investment },\n    { name: \"inverse\", value: 1 - investment }\n  ];\n\n  const COLORS1 = [corruption_color, \"rgb(100,100,100)\"];\n  const COLORS2 = [investment_color, \"rgb(100,100,100)\"];\n\n  return (\n    <div\n      className=\"dataTooltip\"\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        flexDirection: \"column\"\n      }}\n    >\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>{name}</div>\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        <PieChart width={93} height={50}>\n          <Pie\n            data={data_corruption}\n            cx={16}\n            cy={16}\n            innerRadius={15}\n            outerRadius={20}\n            paddingAngle={0}\n            isAnimationActive={false}\n          >\n            {data_corruption.map((entry, index) => (\n              <Cell fill={COLORS1[index % COLORS1.length]} stroke=\"black\" />\n            ))}\n          </Pie>\n          <text x={21} y={17} dy={8} textAnchor=\"middle\" fill=\"White\">\n            {Number(corruption).toFixed(2)}\n          </text>\n\n          <Pie\n            data={data_investment}\n            cx={66}\n            cy={16}\n            innerRadius={15}\n            outerRadius={20}\n            paddingAngle={0}\n            isAnimationActive={false}\n          >\n            {data_investment.map((entry, index) => (\n              <Cell fill={COLORS2[index % COLORS2.length]} stroke=\"black\" />\n            ))}\n          </Pie>\n          <text x={71} y={17} dy={8} textAnchor=\"middle\" fill=\"White\">\n            {Number(investment).toFixed(2)}\n          </text>\n        </PieChart>\n      </div>\n    </div>\n  );\n};\n\n//ReactDOM.render(<SimplePieChart />, document.getElementById(\"container\"));\n\nexport default DataTooltip;\n","export const fillFunction = (corruption, investment) => {\n  return {\n    G: 255 - 255 * Number(corruption),\n    B: 255 - (155 * (Number(corruption) + Number(investment))) / 2,\n    R: 255 - 255 * Number(investment)\n  };\n};\n\nexport const colorScale2D = (corruption, investment) => {\n  const color = fillFunction(corruption, investment);\n\n  // const hex = rgbHex(color[\"R\"], color[\"G\"], color[\"B\"]);\n\n  return `rgb(${color[\"R\"]}, ${color[\"G\"]} , ${color[\"B\"]})`;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { csv } from \"d3-fetch\";\n\nimport {\n  ZoomableGroup,\n  ComposableMap,\n  Geographies,\n  Geography,\n  Sphere,\n  Graticule,\n  Marker\n} from \"react-simple-maps\";\nimport Legend2d from \"./Legend2d\";\nimport Tooltip from \"./Tooltip\";\nimport { colorScale2D } from \"../colortools\";\n\nconst geoUrl =\n  \"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json\";\n\nconst MapChart = ({\n  setTooltipContent,\n  dataset,\n  country,\n  setCountry,\n  data,\n  setData\n}) => {\n  useEffect(() => {\n    csv(`${process.env.PUBLIC_URL}/data/${dataset}`).then(data => {\n      const maxFunding = Math.max(\n        ...data.map(country => country[\"Funding USDm\"])\n      );\n      data.forEach(country => {\n        country.investment = country[\"Funding USDm\"] / maxFunding;\n      });\n      return setData(data);\n    });\n  }, [dataset]);\n\n  const handleClick = e => {\n    if (e.target.className.baseVal !== \"rsm-geography \") setCountry(null);\n  };\n\n  return (\n    <div className=\"Map\" onClick={handleClick}>\n      <ComposableMap\n        data-tip=\"\"\n        height={400}\n        projectionConfig={{\n          rotate: [0, 0, 0],\n          scale: 140\n        }}\n      >\n        <ZoomableGroup disablePanning={true}>\n          <Sphere stroke=\"#E4E5E6\" strokeWidth={0.3} />\n          <Graticule stroke=\"#E4E5E6\" strokeWidth={0.3} />\n          {data.length > 0 && (\n            <Geographies geography={geoUrl}>\n              {({ geographies }) =>\n                geographies.map(geo => {\n                  const d = data.find(\n                    s => s[\"CountryCode\"] === geo.properties.ISO_A3\n                  );\n                  return (\n                    <Geography\n                      key={geo.rsmKey}\n                      geography={geo}\n                      fill={\n                        d\n                          ? colorScale2D(d[\"Corruption risks\"], d[\"investment\"])\n                          : \"#F5F4F6\"\n                      }\n                      stroke=\"#EAEAEC\"\n                      onClick={() => {\n                        setCountry(geo.properties.ISO_A3);\n                      }}\n                      onMouseEnter={() => {\n                        setTooltipContent(\n                          <Tooltip\n                            name={geo.properties.NAME}\n                            corruption={\n                              d ? Number(d[\"Corruption risks\"]) : \"none\"\n                            }\n                            investment={d ? Number(d[\"investment\"]) : \"none\"}\n                            corruption_color=\"rgb(255, 0 , 177.5)\"\n                            investment_color=\"rgb(0, 255 , 177.5)\"\n                          />\n                        );\n                      }}\n                      onMouseLeave={() => {\n                        setTooltipContent(\"\");\n                      }}\n                      style={{\n                        default: {\n                          outline: \"none\"\n                        },\n                        hover: {\n                          fill: \"#F53\",\n                          outline: \"none\",\n                          cursor: \"pointer\"\n                        },\n                        pressed: {\n                          fill: \"#E42\",\n                          outline: \"none\"\n                        }\n                      }}\n                    />\n                  );\n                })\n              }\n            </Geographies>\n          )}\n          <Marker coordinates={[-150.006, -10.7128]}>\n            <Legend2d width={120} fillFunction={colorScale2D} />\n          </Marker>\n        </ZoomableGroup>\n      </ComposableMap>\n    </div>\n  );\n};\n\nexport default MapChart;\n","import React from \"react\";\n\nconst removeKeys = [\"CountryCode\", \"Country Name\", \"investment\"];\n\nexport default ({ countryCode, data, setCountry }) => {\n  const countryData = data.find(country => country.CountryCode === countryCode);\n  return (\n    (countryCode && countryData && countryData[\"Country Name\"] && (\n      <div className=\"content Details\">\n        <button\n          class=\"close\"\n          onClick={() => {\n            setCountry(null);\n          }}\n        ></button>\n        <h3>{countryData[\"Country Name\"]}</h3>\n        <table>\n          {Object.keys(countryData)\n            .filter(key => !removeKeys.includes(key))\n            .map(key => (\n              <tr>\n                <td>{key}</td>\n                <td>{Number(countryData[key]).toFixed(2)}</td>\n              </tr>\n            ))}\n        </table>\n      </div>\n    )) ||\n    null\n  );\n};\n","import React from \"react\";\nimport {\n  ScatterChart,\n  Scatter,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ZAxis,\n  Cell\n} from \"recharts\";\nimport { colorScale2D } from \"../colortools\";\n\nconst CustomTooltip = ({ active, payload, label }) => {\n  if (active) {\n    console.log(payload[0].payload);\n    const data = payload[0].payload;\n    return (\n      <div className=\"custom-tooltip\">\n        <h5 className=\"label\">{data[\"Country Name\"]}</h5>\n        <p className=\"intro\">\n          Corruption: {Number(data[\"Corruption risks\"]).toFixed(2)}\n        </p>\n        <p className=\"desc\">Aid: {Number(data[\"Funding USDm\"]).toFixed(2)}</p>\n      </div>\n    );\n  }\n  return null;\n};\n\nexport default ({ data, displayDetails }) => {\n  const handleClick = e => {\n    displayDetails(e[\"CountryCode\"]);\n  };\n\n  return (\n    <div className=\"ScatterPlot\">\n      <ScatterChart\n        width={400}\n        height={200}\n        margin={{\n          top: 20,\n          right: 20,\n          bottom: 20,\n          left: 20\n        }}\n      >\n        <CartesianGrid />\n        <XAxis\n          type=\"number\"\n          dataKey=\"investment\"\n          name=\"Relative aid\"\n          label=\"Relative aid\"\n          tick={false}\n        />\n        <YAxis\n          type=\"number\"\n          dataKey=\"Corruption risks\"\n          name=\"Corruption\"\n          label={{ value: \"Corruption\", angle: -90 }}\n          tick={false}\n        />\n        <ZAxis\n          type=\"string\"\n          dataKey=\"Country Name\"\n          name=\"Country Name\"\n          unit=\"\"\n        />\n        <Tooltip content={<CustomTooltip />} />\n        <Scatter\n          name=\"Corruption\"\n          data={data}\n          fill=\"#8884d8\"\n          onClick={handleClick}\n        >\n          {data.map((entry, index) => {\n            const fillColor = colorScale2D(\n              Number(entry[\"Corruption risks\"]),\n              Number(entry[\"investment\"])\n            );\n            return <Cell key={`cell-${index}`} fill={fillColor} />;\n          })}\n        </Scatter>\n      </ScatterChart>\n    </div>\n  );\n};\n","import React from \"react\";\nimport ScatterPlot from \"./ScatterPlot\";\n\nconst SingleStat = ({ data, label, displayDetails }) => {\n  const name = \"Country Name\";\n  return (\n    <div className=\"SingleStat\">\n      <h5>{label}</h5>\n      <ul>\n        {data.map(country => (\n          <li\n            onClick={() =>\n              displayDetails(\n                data.find(countryData => countryData[name] === country[name])\n                  .CountryCode\n              )\n            }\n          >\n            {country[name]}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default ({ data, displayDetails }) => {\n  const corruption = \"Corruption risks\";\n\n  const mostCorrupted = data\n    .sort((c1, c2) => (c1[corruption] <= c2[corruption] ? 1 : -1))\n    .slice(0, 5);\n  const mostInvested = data\n    .sort((c1, c2) => (c1.investment <= c2.investment ? 1 : -1))\n    .slice(0, 5);\n  const lessInvested = data\n    .sort((c1, c2) => (c1.investment >= c2.investment ? 1 : -1))\n    .slice(0, 5);\n\n  return (\n    <div className=\"content Stats\">\n      <SingleStat\n        displayDetails={displayDetails}\n        data={mostCorrupted}\n        label=\"Highest corruption\"\n      />\n      <SingleStat\n        displayDetails={displayDetails}\n        data={mostInvested}\n        label=\"Most aid received\"\n      />\n      <SingleStat\n        displayDetails={displayDetails}\n        data={lessInvested}\n        label=\"Least aid received\"\n        />\n      <ScatterPlot data={data} displayDetails={displayDetails}/>\n        \n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport ReactTooltip from \"react-tooltip\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./styles.css\";\nimport MapChart from \"./components/MapChart\";\nimport Details from \"./components/Details\";\nimport Stats from \"./components/Stats\";\n\nimport { Tabs, Tab } from \"react-bootstrap\";\nconst upperFirst = string =>\n  string.charAt(0).toUpperCase() + string.substring(1);\n\nfunction App() {\n  const [content, setContent] = useState(\"\");\n  const [key, setKey] = useState(\"public\");\n  const [country, setCountry] = useState(\"\");\n  const [data, setData] = useState([]);\n\n  const displayDetails = countryCode => {\n    setCountry(countryCode);\n  };\n\n  const sectors = [\"public\", \"education\", \"health\", \"business\", \"energy\"];\n  return (\n    <div>\n      <div className=\"page\">\n        <div className=\"Tabs\">\n          <Tabs\n            id=\"controlled-tab-example\"\n            activeKey={key}\n            onSelect={k => setKey(k)}\n          >\n            {sectors.map(sector => (\n              <Tab\n                key={sector}\n                eventKey={sector}\n                title={upperFirst(sector)}\n              ></Tab>\n            ))}\n          </Tabs>\n        </div>\n        <MapChart\n          setTooltipContent={setContent}\n          dataset={key + \".csv\"}\n          country={country}\n          setCountry={setCountry}\n          data={data}\n          setData={setData}\n        />\n        <Stats\n          country={country}\n          data={data}\n          displayDetails={displayDetails}\n        ></Stats>\n        <ReactTooltip>{content}</ReactTooltip>\n        <Details countryCode={country} data={data} setCountry={setCountry} />\n      </div>\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}