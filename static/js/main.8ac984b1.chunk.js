(this.webpackJsonpvisix=this.webpackJsonpvisix||[]).push([[0],{188:function(e,t,n){e.exports=n(397)},207:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);var a=n(46),r=n(1),o=n.n(r),i=n(31),l=n.n(i),c=n(144),s=n.n(c),u=(n(206),n(207),n(161)),m=n(160),d=n(21),f=n(145),p=n.n(f),E=function(e){for(var t,n,a,r=e.style,i=void 0===r?{}:r,l=(e.fill,e.width),c=void 0===l?"100%":l,s=e.className,u=void 0===s?"":s,m=e.viewBox,d=void 0===m?"0 0 10 6":m,f=e.fillFunction,p=[],E=0;E<5;E++)for(var v=0;v<5;v++){var h=o.a.createElement("rect",{width:.95,height:.95,fill:f?f(E/4,1-v/4):(t=100+E/4*155,n=0,a=255-v/4*155,"rgb(".concat(t,",").concat(n,",").concat(a,")")),x:1*E,y:1*v,key:"".concat(v,"x").concat(E)});p.push(h)}return o.a.createElement("svg",{width:c,style:i,height:c,viewBox:d,xmlns:"http://www.w3.org/2000/svg",className:"svg-icon ".concat(u||""),xmlnsXlink:"http://www.w3.org/1999/xlink"},o.a.createElement("defs",null,o.a.createElement("marker",{id:"arrow",fill:"white",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse"},o.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),o.a.createElement("g",{id:"group",transform:" rotate(-45 5 0)"},o.a.createElement("g",null,p),o.a.createElement("polyline",{points:"-0.2,-0.4, -0.2,5.1, 5.3,5.1",fill:"none",stroke:"white",strokeWidth:"0.1",markerStart:"url(#arrow)",markerEnd:"url(#arrow)"}),o.a.createElement("text",{x:"2.5",y:"6",fontSize:"0.06em",textAnchor:"middle",fill:"white",fontWeight:"bold"},"Corruption"),o.a.createElement("text",{transform:" rotate(90 0 0)",fill:"white",x:"2.5",y:"1",fontSize:"0.06em",textAnchor:"middle",fontWeight:"bold"},"Investment")))},v=n(38),h=["rgb(255,0,0)","rgb(100,100,100)"],g=["rgb(0,0,255)","rgb(100,100,100)"],b=(Math.PI,function(e){var t=e.name,n=e.corruption,a=e.investment,r=[{name:"Group A",value:n},{name:"inverse",value:1-n}],i=[{name:"Group A",value:a},{name:"inverse",value:1-a}];return console.log(r),o.a.createElement("div",{className:"dataTooltip",style:{display:"flex",justifyContent:"center",flexDirection:"column"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},t),o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(v.c,{width:100,height:50},o.a.createElement(v.b,{data:r,cx:16,cy:16,innerRadius:15,outerRadius:20,paddingAngle:0,isAnimationActive:!1},r.map((function(e,t){return o.a.createElement(v.a,{fill:h[t%h.length],stroke:"black"})}))),o.a.createElement("text",{x:21,y:17,dy:8,textAnchor:"middle",fill:"White"},Number(n).toFixed(2)),o.a.createElement(v.b,{data:i,cx:56,cy:16,innerRadius:15,outerRadius:20,paddingAngle:0,isAnimationActive:!1},i.map((function(e,t){return o.a.createElement(v.a,{fill:g[t%g.length],stroke:"black"})}))),o.a.createElement("text",{x:61,y:17,dy:8,textAnchor:"middle",fill:"White"},Number(a).toFixed(2)))))}),y=function(e,t){var n=function(e,t){return console.log("in fillFunctin",e,t),{G:255-255*Number(e),B:255-155*(Number(e)+Number(t))/2,R:255-255*Number(t)}}(e,t);console.log(e,t,n);p()(n.R,n.G,n.B);return"rgb(".concat(n.R,", ").concat(n.G," , ").concat(n.B,")")},x=function(e){var t=e.setTooltipContent,n=e.dataset,a=(e.country,e.setCountry),i=e.data,l=e.setData;return Object(r.useEffect)((function(){Object(m.a)("".concat("/openhack_visix","/data/").concat(n)).then((function(e){var t=Math.max.apply(Math,Object(u.a)(e.map((function(e){return e["Funding USDm"]}))));return e.forEach((function(e){e.investment=e["Funding USDm"]/t})),console.log(e),l(e)}))}),[n]),o.a.createElement("div",{className:"Map"},o.a.createElement(d.ComposableMap,{"data-tip":"",height:400,projectionConfig:{rotate:[0,0,0],scale:140}},o.a.createElement(d.ZoomableGroup,{disablePanning:!0},o.a.createElement(d.Sphere,{stroke:"#E4E5E6",strokeWidth:.3}),o.a.createElement(d.Graticule,{stroke:"#E4E5E6",strokeWidth:.3}),i.length>0&&o.a.createElement(d.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json"},(function(e){return e.geographies.map((function(e){var n=i.find((function(t){return t.CountryCode===e.properties.ISO_A3}));return o.a.createElement(d.Geography,{key:e.rsmKey,geography:e,fill:n?y(n["Corruption risks"],n.investment):"#F5F4F6",stroke:"#EAEAEC",onClick:function(){a(e.properties.ISO_A3),console.log(e.properties.ISO_A3)},onMouseEnter:function(){t(o.a.createElement(b,{name:e.properties.NAME,corruption:n?Number(n["Corruption risks"]):"none",investment:n?Number(n.investment):"none"}))},onMouseLeave:function(){t("")},style:{default:{outline:"none"},hover:{fill:"#F53",outline:"none"},pressed:{fill:"#E42",outline:"none"}}})}))})),o.a.createElement(d.Marker,{coordinates:[-150.006,-10.7128]},o.a.createElement(E,{width:120,fillFunction:y})))))},k=function(e){var t=e.country;return Object(r.useEffect)((function(){console.log(t)}),[t]),o.a.createElement("div",{className:"content Details"},o.a.createElement("h3",null,t))},w=function(e){var t=e.data,n="Country Name",a=t.sort((function(e,t){return e["Corruption risks"]<=t["Corruption risks"]?1:-1})).slice(0,5),r=t.sort((function(e,t){return e.investment<=t.investment?1:-1})).slice(0,5),i=t.sort((function(e,t){return e.investment>=t.investment?1:-1})).slice(0,5);return console.log("***********",a),o.a.createElement("div",{className:"content Stats"},"most corrupted",o.a.createElement("ul",null,a.map((function(e){return o.a.createElement("li",null,e[n])}))),"most invested",o.a.createElement("ul",null,r.map((function(e){return o.a.createElement("li",null,e[n])}))),"least invested",o.a.createElement("ul",null,i.map((function(e){return o.a.createElement("li",null,e[n])}))))},C=n(401),A=n(400),j=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var N=document.getElementById("root");l.a.render(o.a.createElement((function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],i=t[1],l=Object(r.useState)("public"),c=Object(a.a)(l,2),u=c[0],m=c[1],d=Object(r.useState)(""),f=Object(a.a)(d,2),p=f[0],E=f[1],v=Object(r.useState)([]),h=Object(a.a)(v,2),g=h[0],b=h[1];return o.a.createElement("div",null,o.a.createElement("div",{className:"page"},o.a.createElement("div",{className:"Tabs"},o.a.createElement(C.a,{id:"controlled-tab-example",activeKey:u,onSelect:function(e){return m(e)}},["public","education","health","business","energy"].map((function(e){return o.a.createElement(A.a,{key:e,eventKey:e,title:j(e)})})))),o.a.createElement(x,{setTooltipContent:i,dataset:u+".csv",country:p,setCountry:E,data:g,setData:b}),o.a.createElement(w,{country:p,data:g}),o.a.createElement(s.a,null,n),o.a.createElement(k,{country:p})))}),null),N)}},[[188,1,2]]]);
//# sourceMappingURL=main.8ac984b1.chunk.js.map