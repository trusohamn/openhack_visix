(this.webpackJsonpvisix=this.webpackJsonpvisix||[]).push([[0],{188:function(e,t,n){e.exports=n(397)},207:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);var a=n(46),r=n(1),i=n.n(r),o=n(31),l=n.n(o),c=n(144),s=n.n(c),u=(n(206),n(207),n(161)),m=n(160),d=n(21),p=n(145),f=n.n(p),E=function(e){for(var t,n,a,r=e.style,o=void 0===r?{}:r,l=(e.fill,e.width),c=void 0===l?"100%":l,s=e.className,u=void 0===s?"":s,m=e.viewBox,d=void 0===m?"0 0 10 6":m,p=e.fillFunction,f=[],E=0;E<5;E++)for(var v=0;v<5;v++){var h=i.a.createElement("rect",{width:.95,height:.95,fill:p?p(E/4,1-v/4):(t=100+E/4*155,n=0,a=255-v/4*155,"rgb(".concat(t,",").concat(n,",").concat(a,")")),x:1*E,y:1*v,key:"".concat(v,"x").concat(E)});f.push(h)}return i.a.createElement("svg",{width:c,style:o,height:c,viewBox:d,xmlns:"http://www.w3.org/2000/svg",className:"svg-icon ".concat(u||""),xmlnsXlink:"http://www.w3.org/1999/xlink"},i.a.createElement("defs",null,i.a.createElement("marker",{id:"arrow",fill:"white",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse"},i.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),i.a.createElement("g",{id:"group",transform:" rotate(-45 5 0)"},i.a.createElement("g",null,f),i.a.createElement("polyline",{points:"-0.2,-0.4, -0.2,5.1, 5.3,5.1",fill:"none",stroke:"white",strokeWidth:"0.1",markerStart:"url(#arrow)",markerEnd:"url(#arrow)"}),i.a.createElement("text",{x:"2.5",y:"6",fontSize:"0.06em",textAnchor:"middle",fill:"white",fontWeight:"bold"},"Corruption"),i.a.createElement("text",{transform:" rotate(90 0 0)",fill:"white",x:"2.5",y:"1",fontSize:"0.06em",textAnchor:"middle",fontWeight:"bold"},"Investment")))},v=n(38),h=function(e){var t=e.name,n=e.corruption,a=e.investment,r=e.corruption_color,o=e.investment_color,l=[{name:"Group A",value:n},{name:"inverse",value:1-n}],c=[{name:"Group A",value:a},{name:"inverse",value:1-a}],s=[r,"rgb(100,100,100)"],u=[o,"rgb(100,100,100)"];return i.a.createElement("div",{className:"dataTooltip",style:{display:"flex",justifyContent:"center",flexDirection:"column"}},i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},t),i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(v.c,{width:93,height:50},i.a.createElement(v.b,{data:l,cx:16,cy:16,innerRadius:15,outerRadius:20,paddingAngle:0,isAnimationActive:!1},l.map((function(e,t){return i.a.createElement(v.a,{fill:s[t%s.length],stroke:"black"})}))),i.a.createElement("text",{x:21,y:17,dy:8,textAnchor:"middle",fill:"White"},Number(n).toFixed(2)),i.a.createElement(v.b,{data:c,cx:66,cy:16,innerRadius:15,outerRadius:20,paddingAngle:0,isAnimationActive:!1},c.map((function(e,t){return i.a.createElement(v.a,{fill:u[t%u.length],stroke:"black"})}))),i.a.createElement("text",{x:71,y:17,dy:8,textAnchor:"middle",fill:"White"},Number(a).toFixed(2)))))},y=function(e,t){var n=function(e,t){return{G:255-255*Number(e),B:255-155*(Number(e)+Number(t))/2,R:255-255*Number(t)}}(e,t);f()(n.R,n.G,n.B);return"rgb(".concat(n.R,", ").concat(n.G," , ").concat(n.B,")")},b=function(e){var t=e.setTooltipContent,n=e.dataset,a=(e.country,e.setCountry),o=e.data,l=e.setData;Object(r.useEffect)((function(){Object(m.a)("".concat("/openhack_visix","/data/").concat(n)).then((function(e){var t=Math.max.apply(Math,Object(u.a)(e.map((function(e){return e["Funding USDm"]}))));return e.forEach((function(e){e.investment=e["Funding USDm"]/t})),l(e)}))}),[n]);return i.a.createElement("div",{className:"Map",onClick:function(e){"rsm-geography "!==e.target.className.baseVal&&a(null)}},i.a.createElement(d.ComposableMap,{"data-tip":"",height:400,projectionConfig:{rotate:[0,0,0],scale:140}},i.a.createElement(d.ZoomableGroup,{disablePanning:!0},i.a.createElement(d.Sphere,{stroke:"#E4E5E6",strokeWidth:.3}),i.a.createElement(d.Graticule,{stroke:"#E4E5E6",strokeWidth:.3}),o.length>0&&i.a.createElement(d.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json"},(function(e){return e.geographies.map((function(e){var n=o.find((function(t){return t.CountryCode===e.properties.ISO_A3}));return i.a.createElement(d.Geography,{key:e.rsmKey,geography:e,fill:n?y(n["Corruption risks"],n.investment):"#F5F4F6",stroke:"#EAEAEC",onClick:function(){a(e.properties.ISO_A3)},onMouseEnter:function(){t(i.a.createElement(h,{name:e.properties.NAME,corruption:n?Number(n["Corruption risks"]):"none",investment:n?Number(n.investment):"none",corruption_color:"rgb(255, 0 , 177.5)",investment_color:"rgb(0, 255 , 177.5)"}))},onMouseLeave:function(){t("")},style:{default:{outline:"none"},hover:{fill:"#F53",outline:"none",cursor:"pointer"},pressed:{fill:"#E42",outline:"none"}}})}))})),i.a.createElement(d.Marker,{coordinates:[-150.006,-10.7128]},i.a.createElement(E,{width:120,fillFunction:y})))))},g=["CountryCode","Country Name","investment"],x=function(e){var t=e.countryCode,n=e.data.find((function(e){return e.CountryCode===t}));return t&&n&&n["Country Name"]&&i.a.createElement("div",{className:"content Details"},i.a.createElement("h3",null,n["Country Name"]),i.a.createElement("table",null,Object.keys(n).filter((function(e){return!g.includes(e)})).map((function(e){return i.a.createElement("tr",null,i.a.createElement("td",null,e),i.a.createElement("td",null,n[e]))}))))||null},k=function(e){var t=e.data,n=e.label,a=e.displayDetails,r="Country Name";return i.a.createElement("div",{className:"SingleStat"},i.a.createElement("h5",null,n),i.a.createElement("ul",null,t.map((function(e){return i.a.createElement("li",{onClick:function(){return a(t.find((function(t){return t[r]===e[r]})).CountryCode)}},e[r])}))))},C=function(e){var t=e.data,n=e.displayDetails,a=t.sort((function(e,t){return e["Corruption risks"]<=t["Corruption risks"]?1:-1})).slice(0,5),r=t.sort((function(e,t){return e.investment<=t.investment?1:-1})).slice(0,5),o=t.sort((function(e,t){return e.investment>=t.investment?1:-1})).slice(0,5);return i.a.createElement("div",{className:"content Stats"},i.a.createElement(k,{displayDetails:n,data:a,label:"Highest corruption"}),i.a.createElement(k,{displayDetails:n,data:r,label:"Highest investment"}),i.a.createElement(k,{displayDetails:n,data:o,label:"Lowest investment"}))},w=n(401),N=n(400),j=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var A=document.getElementById("root");l.a.render(i.a.createElement((function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],o=t[1],l=Object(r.useState)("public"),c=Object(a.a)(l,2),u=c[0],m=c[1],d=Object(r.useState)(""),p=Object(a.a)(d,2),f=p[0],E=p[1],v=Object(r.useState)([]),h=Object(a.a)(v,2),y=h[0],g=h[1];return i.a.createElement("div",null,i.a.createElement("div",{className:"page"},i.a.createElement("div",{className:"Tabs"},i.a.createElement(w.a,{id:"controlled-tab-example",activeKey:u,onSelect:function(e){return m(e)}},["public","education","health","business","energy"].map((function(e){return i.a.createElement(N.a,{key:e,eventKey:e,title:j(e)})})))),i.a.createElement(b,{setTooltipContent:o,dataset:u+".csv",country:f,setCountry:E,data:y,setData:g}),i.a.createElement(C,{country:f,data:y,displayDetails:function(e){E(e)}}),i.a.createElement(s.a,null,n),i.a.createElement(x,{countryCode:f,data:y})))}),null),A)}},[[188,1,2]]]);
//# sourceMappingURL=main.a60c128d.chunk.js.map