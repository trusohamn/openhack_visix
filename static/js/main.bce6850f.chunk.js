(this.webpackJsonpvisix=this.webpackJsonpvisix||[]).push([[0],{188:function(e,t,n){e.exports=n(397)},207:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);var a=n(46),r=n(1),o=n.n(r),i=n(31),l=n.n(i),c=n(144),u=n.n(c),s=(n(206),n(207),n(161)),m=n(160),d=n(21),f=n(145),p=n.n(f),E=function(e){for(var t,n,a,r=e.style,i=void 0===r?{}:r,l=(e.fill,e.width),c=void 0===l?"100%":l,u=e.className,s=void 0===u?"":u,m=e.viewBox,d=void 0===m?"0 0 10 6":m,f=e.fillFunction,p=[],E=0;E<5;E++)for(var v=0;v<5;v++){var h=o.a.createElement("rect",{width:.95,height:.95,fill:f?f(E/4,1-v/4):(t=100+E/4*155,n=0,a=255-v/4*155,"rgb(".concat(t,",").concat(n,",").concat(a,")")),x:1*E,y:1*v,key:"".concat(v,"x").concat(E)});p.push(h)}return o.a.createElement("svg",{width:c,style:i,height:c,viewBox:d,xmlns:"http://www.w3.org/2000/svg",className:"svg-icon ".concat(s||""),xmlnsXlink:"http://www.w3.org/1999/xlink"},o.a.createElement("defs",null,o.a.createElement("marker",{id:"arrow",fill:"white",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"6",markerHeight:"6",orient:"auto-start-reverse"},o.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z"}))),o.a.createElement("g",{id:"group",transform:" rotate(-45 5 0)"},o.a.createElement("g",null,p),o.a.createElement("polyline",{points:"-0.2,-0.4, -0.2,5.1, 5.3,5.1",fill:"none",stroke:"white",strokeWidth:"0.1",markerStart:"url(#arrow)",markerEnd:"url(#arrow)"}),o.a.createElement("text",{x:"2.5",y:"6",fontSize:"0.06em",textAnchor:"middle",fill:"white",fontWeight:"bold"},"Corruption"),o.a.createElement("text",{transform:" rotate(90 0 0)",fill:"white",x:"2.5",y:"1",fontSize:"0.06em",textAnchor:"middle",fontWeight:"bold"},"Investment")))},v=n(38),h=function(e){var t=e.name,n=e.corruption,a=e.investment,r=e.corruption_color,i=e.investment_color,l=[{name:"Group A",value:n},{name:"inverse",value:1-n}],c=[{name:"Group A",value:a},{name:"inverse",value:1-a}],u=[r,"rgb(100,100,100)"],s=[i,"rgb(100,100,100)"];return o.a.createElement("div",{className:"dataTooltip",style:{display:"flex",justifyContent:"center",flexDirection:"column"}},o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},t),o.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},o.a.createElement(v.c,{width:93,height:50},o.a.createElement(v.b,{data:l,cx:16,cy:16,innerRadius:15,outerRadius:20,paddingAngle:0,isAnimationActive:!1},l.map((function(e,t){return o.a.createElement(v.a,{fill:u[t%u.length],stroke:"black"})}))),o.a.createElement("text",{x:21,y:17,dy:8,textAnchor:"middle",fill:"White"},Number(n).toFixed(2)),o.a.createElement(v.b,{data:c,cx:66,cy:16,innerRadius:15,outerRadius:20,paddingAngle:0,isAnimationActive:!1},c.map((function(e,t){return o.a.createElement(v.a,{fill:s[t%s.length],stroke:"black"})}))),o.a.createElement("text",{x:71,y:17,dy:8,textAnchor:"middle",fill:"White"},Number(a).toFixed(2)))))},b=function(e,t){var n=function(e,t){return{G:255-255*Number(e),B:255-155*(Number(e)+Number(t))/2,R:255-255*Number(t)}}(e,t);p()(n.R,n.G,n.B);return"rgb(".concat(n.R,", ").concat(n.G," , ").concat(n.B,")")},y=function(e){var t=e.setTooltipContent,n=e.dataset,a=(e.country,e.setCountry),i=e.data,l=e.setData;return Object(r.useEffect)((function(){Object(m.a)("".concat("/openhack_visix","/data/").concat(n)).then((function(e){var t=Math.max.apply(Math,Object(s.a)(e.map((function(e){return e["Funding USDm"]}))));return e.forEach((function(e){e.investment=e["Funding USDm"]/t})),l(e)}))}),[n]),o.a.createElement("div",{className:"Map"},o.a.createElement(d.ComposableMap,{"data-tip":"",height:400,projectionConfig:{rotate:[0,0,0],scale:140}},o.a.createElement(d.ZoomableGroup,{disablePanning:!0},o.a.createElement(d.Sphere,{stroke:"#E4E5E6",strokeWidth:.3}),o.a.createElement(d.Graticule,{stroke:"#E4E5E6",strokeWidth:.3}),i.length>0&&o.a.createElement(d.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json"},(function(e){return e.geographies.map((function(e){var n=i.find((function(t){return t.CountryCode===e.properties.ISO_A3}));return o.a.createElement(d.Geography,{key:e.rsmKey,geography:e,fill:n?b(n["Corruption risks"],n.investment):"#F5F4F6",stroke:"#EAEAEC",onClick:function(){a(e.properties.ISO_A3)},onMouseEnter:function(){t(o.a.createElement(h,{name:e.properties.NAME,corruption:n?Number(n["Corruption risks"]):"none",investment:n?Number(n.investment):"none",corruption_color:"rgb(255, 0 , 177.5)",investment_color:"rgb(0, 255 , 177.5)"}))},onMouseLeave:function(){t("")},style:{default:{outline:"none"},hover:{fill:"#F53",outline:"none",cursor:"pointer"},pressed:{fill:"#E42",outline:"none"}}})}))})),o.a.createElement(d.Marker,{coordinates:[-150.006,-10.7128]},o.a.createElement(E,{width:120,fillFunction:b})))))},g=["CountryCode","Country Name"],x=function(e){var t=e.countryCode,n=e.data.find((function(e){return e.CountryCode===t}));return t&&n&&n["Country Name"]&&o.a.createElement("div",{className:"content Details"},o.a.createElement("h3",null,n["Country Name"]),o.a.createElement("table",null,Object.keys(n).filter((function(e){return!g.includes(e)})).map((function(e){return o.a.createElement("tr",null,o.a.createElement("td",null,e),o.a.createElement("td",null,n[e]))}))))||null},k=function(e){var t=e.data,n=e.label;return o.a.createElement("div",{className:"SingleStat"},o.a.createElement("h5",null,n),o.a.createElement("ul",null,t.map((function(e){return o.a.createElement("li",null,e["Country Name"])}))))},C=function(e){var t=e.data,n=t.sort((function(e,t){return e["Corruption risks"]<=t["Corruption risks"]?1:-1})).slice(0,5),a=t.sort((function(e,t){return e.investment<=t.investment?1:-1})).slice(0,5),r=t.sort((function(e,t){return e.investment>=t.investment?1:-1})).slice(0,5);return o.a.createElement("div",{className:"content Stats"},o.a.createElement(k,{data:n,label:"Highest corruption"}),o.a.createElement(k,{data:a,label:"Highest investment"}),o.a.createElement(k,{data:r,label:"Lowest investment"}))},w=n(401),N=n(400),j=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var A=document.getElementById("root");l.a.render(o.a.createElement((function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],i=t[1],l=Object(r.useState)("public"),c=Object(a.a)(l,2),s=c[0],m=c[1],d=Object(r.useState)(""),f=Object(a.a)(d,2),p=f[0],E=f[1],v=Object(r.useState)([]),h=Object(a.a)(v,2),b=h[0],g=h[1];return o.a.createElement("div",null,o.a.createElement("div",{className:"page"},o.a.createElement("div",{className:"Tabs"},o.a.createElement(w.a,{id:"controlled-tab-example",activeKey:s,onSelect:function(e){return m(e)}},["public","education","health","business","energy"].map((function(e){return o.a.createElement(N.a,{key:e,eventKey:e,title:j(e)})})))),o.a.createElement(y,{setTooltipContent:i,dataset:s+".csv",country:p,setCountry:E,data:b,setData:g}),o.a.createElement(C,{country:p,data:b}),o.a.createElement(u.a,null,n),o.a.createElement(x,{countryCode:p,data:b})))}),null),A)}},[[188,1,2]]]);
//# sourceMappingURL=main.bce6850f.chunk.js.map